<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hhwork.dao.CaseDao">
	
	<select id="select" parameterType="java.util.Map" resultType="com.hhwork.model.AppCase">
		select  
		a.id,
		a.addr,
		a.photo,
		a.content,
		a.area,
		a.buildtime,
		a.name,
		a.name_en,
		a.basedataid 
		from appcase a 
		<where>
			<if test="id!=null"> AND a.id = #{id}</if>
			<if test="name!=null"> AND a.name = #{name}</if>
			<if test="type!=null"> AND a.basedataid = #{type}</if>
		</where>
	</select>
	
	<select id="selectPhoto" parameterType="java.util.Map" resultType="com.hhwork.model.CasePhoto">
		select 
		a.id,
		a.name,
		a.path,
		a.caseid 
		from casephoto a 
		<where>
			<if test="caseid!=null"> AND a.caseid = #{caseid}</if>
		</where>
	</select>
	
</mapper>